function a(){}function et(t){return t()}function dt(){return Object.create(null)}function k(t){t.forEach(et)}function j(t){return typeof t=="function"}function w(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function mt(t){return Object.keys(t).length===0}function nt(t,...e){if(t==null)return a;let n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function A(t,e,n){t.$$.on_destroy.push(nt(e,n))}function pt(t,e,n){return t.set(n),e}var yt=!1;function Tt(){yt=!0}function Dt(){yt=!1}function h(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function N(){return x(" ")}function X(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function jt(t){return Array.from(t.childNodes)}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ot(t,e,n,o){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}var it;function I(t){it=t}var D=[];var _t=[],U=[],ht=[],Nt=Promise.resolve(),Z=!1;function qt(){Z||(Z=!0,Nt.then(bt))}function tt(t){U.push(t)}var Q=new Set,T=0;function bt(){if(T!==0)return;let t=it;do{try{for(;T<D.length;){let e=D[T];T++,I(e),Rt(e.$$)}}catch(e){throw D.length=0,T=0,e}for(I(null),D.length=0,T=0;_t.length;)_t.pop()();for(let e=0;e<U.length;e+=1){let n=U[e];Q.has(n)||(Q.add(n),n())}U.length=0}while(D.length);for(;ht.length;)ht.pop()();Z=!1,Q.clear(),I(t)}function Rt(t){if(t.fragment!==null){t.update(),k(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}var V=new Set,M;function vt(){M={r:0,c:[],p:M}}function $t(){M.r||k(M.c),M=M.p}function F(t,e){t&&t.i&&(V.delete(t),t.i(e))}function C(t,e,n,o){if(t&&t.o){if(V.has(t))return;V.add(t),M.c.push(()=>{V.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}var Jt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function z(t){t&&t.c()}function q(t,e,n,o){let{fragment:s,after_update:u}=t.$$;s&&s.m(e,n),o||tt(()=>{let r=t.$$.on_mount.map(et).filter(j);t.$$.on_destroy?t.$$.on_destroy.push(...r):k(r),t.$$.on_mount=[]}),u.forEach(tt)}function O(t,e){let n=t.$$;n.fragment!==null&&(k(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){t.$$.dirty[0]===-1&&(D.push(t),qt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(t,e,n,o,s,u,r,c=[-1]){let i=it;I(t);let l=t.$$={fragment:null,ctx:[],props:u,update:a,not_equal:s,bound:dt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:dt(),dirty:c,skip_bound:!1,root:e.target||i.$$.root};r&&r(l.root);let d=!1;if(l.ctx=n?n(t,e.props||{},(f,_,...p)=>{let b=p.length?p[0]:_;return l.ctx&&s(l.ctx[f],l.ctx[f]=b)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](b),d&&Lt(t,f)),_}):[],l.update(),d=!0,k(l.before_update),l.fragment=o?o(l.ctx):!1,e.target){if(e.hydrate){Tt();let f=jt(e.target);l.fragment&&l.fragment.l(f),f.forEach(y)}else l.fragment&&l.fragment.c();e.intro&&F(t.$$.fragment),q(t,e.target,e.anchor,e.customElement),Dt(),bt()}I(i)}var Pt;typeof HTMLElement=="function"&&(Pt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(et).filter(j);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){k(this.$$.on_disconnect)}$destroy(){O(this,1),this.$destroy=a}$on(t,e){if(!j(e))return a;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!mt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var $=class{$destroy(){O(this,1),this.$destroy=a}$on(e,n){if(!j(n))return a;let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{let s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!mt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var R=[];function It(t,e){return{subscribe:Y(t,e).subscribe}}function Y(t,e=a){let n,o=new Set;function s(c){if(w(t,c)&&(t=c,n)){let i=!R.length;for(let l of o)l[1](),R.push(l,t);if(i){for(let l=0;l<R.length;l+=2)R[l][0](R[l+1]);R.length=0}}}function u(c){s(c(t))}function r(c,i=a){let l=[c,i];return o.add(l),o.size===1&&(n=e(s)||a),c(t),()=>{o.delete(l),o.size===0&&(n(),n=null)}}return{set:s,update:u,subscribe:r}}function rt(t,e,n){let o=!Array.isArray(t),s=o?[t]:t,u=e.length<2;return It(n,r=>{let c=!1,i=[],l=0,d=a,f=()=>{if(l)return;d();let p=e(o?i[0]:i,r);u?r(p):d=j(p)?p:a},_=s.map((p,b)=>nt(p,L=>{i[b]=L,l&=~(1<<b),c&&f()},()=>{l|=1<<b}));return c=!0,f(),function(){k(_),d()}})}function H(t=!0){let e=[],n=Object.assign([],{void:{m:0,n:0}}),o=0;s();for(let u=0;u<4;u++){n[u]=[];for(let r=0;r<4;r++)e[o]?n[u][r]=e[o]:(n[u][r]=0,n.void={m:u,n:r}),o++}return n;function s(){let u;function r(){let i,l;e.map(function(d,f){i=Math.floor(Math.random()*16),e[i]!==d&&(l=e[i],e[i]=d,e[f]=l)})}function c(){let i=0,l=0;e.map(function(d,f){if(d===0)l=f;else if(d>1)for(let _=f+1;_<16;_++)d>e[_]&&e[_]!==0&&i++}),(!(i%2)&&(l>3&&l<8||l>11&&l<16)||i%2&&(l<4||l>7&&l<12))&&(u=!0)}for(let i=0;i<16;i++)e.push(i);for(t||e.push(Number(e.shift()));t&&!u;)r(),c()}}var G=Y(0),J=Y(H()),W=rt(J,t=>{let e=[];for(let n=0;n<4;n++)for(let o=0;o<4;o++)e[t[n][o]]={m:n,n:o};return e}),K=rt(W,t=>{if(t[0].n===3&&t[0].m===3){for(let e=15;e>1;e--){let n=Math.floor((e-1)/4),o=e-1-4*n;if(t[e].m!==n||t[e].n!==o)return!1}return!0}else return!1});function st(t,e){console.log(t,e);let n=Math.abs(e.m-t.void.m||e.n-t.void.n);function o(){for(let c=t.void.m+1;c<=e.m;c++)t[c-1][t.void.n]=t[c][t.void.n];t.void.m+=n}function s(){for(let c=t.void.m-1;c>=e.m;c--)t[c+1][t.void.n]=t[c][t.void.n];t.void.m-=n}function u(){for(let c=t.void.n-1;c>=e.n;c--)t[t.void.m][c+1]=t[t.void.m][c];t.void.n-=n}function r(){for(let c=t.void.n+1;c<=e.n;c++)t[t.void.m][c-1]=t[t.void.m][c];t.void.n+=n}return e.m!==t.void.m?e.m>t.void.m?o():s():e.n<t.void.n?u():r(),t[t.void.m][t.void.n]=0,t}var wt;W.subscribe(t=>wt=t);var Ft=t=>J.set(H(t)),kt=t=>{J.update(e=>st(e,wt[t]))};function Bt(t){let e,n,o,s;return{c(){e=m("button"),n=x(t[0]),g(e,"class","tile"),ot(e,"transform","translate("+t[1][t[0]].n*100+"%, "+t[1][t[0]].m*100+"%)")},m(u,r){v(u,e,r),h(e,n),o||(s=X(e,"click",t[2]),o=!0)},p(u,[r]){r&1&&B(n,u[0]),r&3&&ot(e,"transform","translate("+u[1][u[0]].n*100+"%, "+u[1][u[0]].m*100+"%)")},i:a,o:a,d(u){u&&y(e),o=!1,s()}}}function zt(t,e,n){let o,s,u;A(t,G,i=>n(3,o=i)),A(t,K,i=>n(4,s=i)),A(t,W,i=>n(1,u=i));let{number:r}=e;function c(){(u[r].n===u[0].n||u[r].m===u[0].m)&&!s&&(kt(r),pt(G,o+=1,o))}return t.$$set=i=>{"number"in i&&n(0,r=i.number)},[r,u,c]}var ct=class extends ${constructor(e){super(),E(this,e,zt,Bt,w,{number:0})}},xt=ct;function Et(t,e,n){let o=t.slice();return o[1]=e[n],o}function St(t){let e,n;return e=new xt({props:{number:t[1]}}),{c(){z(e.$$.fragment)},m(o,s){q(e,o,s),n=!0},p:a,i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ht(t){let e,n,o=t[0],s=[];for(let r=0;r<o.length;r+=1)s[r]=St(Et(t,o,r));let u=r=>C(s[r],1,1,()=>{s[r]=null});return{c(){e=m("section");for(let r=0;r<s.length;r+=1)s[r].c();g(e,"id","board")},m(r,c){v(r,e,c);for(let i=0;i<s.length;i+=1)s[i].m(e,null);n=!0},p(r,[c]){if(c&1){o=r[0];let i;for(i=0;i<o.length;i+=1){let l=Et(r,o,i);s[i]?(s[i].p(l,c),F(s[i],1)):(s[i]=St(l),s[i].c(),F(s[i],1),s[i].m(e,null))}for(vt(),i=o.length;i<s.length;i+=1)u(i);$t()}},i(r){if(!n){for(let c=0;c<o.length;c+=1)F(s[c]);n=!0}},o(r){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)C(s[c]);n=!1},d(r){r&&y(e),gt(s,r)}}}function Gt(t){"use strict";return[Array.from({length:15},(n,o)=>o+1)]}var lt=class extends ${constructor(e){super(),E(this,e,Gt,Ht,w,{})}},Mt=lt;var At='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill="currentColor"/></svg>';function Ut(t){let e,n,o,s,u,r,c,i,l,d,f,_=t[1]?"Shuffle":"Sort",p,b,L,at;return{c(){e=m("header"),n=m("h3"),o=x("Steps: "),s=x(t[0]),u=N(),r=m("h1"),c=m("a"),i=x(`
        Tagy`),l=N(),d=m("nav"),f=m("button"),p=x(_),g(n,"class","counter"),g(c,"href","https://github.com/Valexr/Tagy"),g(c,"target","_blank"),g(c,"rel","noreferrer"),g(c,"id","gh"),g(f,"title",b=(t[1]?"Shuffle":"Sort")+" the tiles")},m(S,P){v(S,e,P),h(e,n),h(n,o),h(n,s),h(e,u),h(e,r),h(r,c),c.innerHTML=At,h(r,i),h(e,l),h(e,d),h(d,f),h(f,p),L||(at=X(f,"click",t[2]),L=!0)},p(S,[P]){P&1&&B(s,S[0]),P&2&&_!==(_=S[1]?"Shuffle":"Sort")&&B(p,_),P&2&&b!==(b=(S[1]?"Shuffle":"Sort")+" the tiles")&&g(f,"title",b)},i:a,o:a,d(S){S&&y(e),L=!1,at()}}}function Vt(t,e,n){let o,s;return A(t,G,r=>n(0,o=r)),A(t,K,r=>n(1,s=r)),[o,s,()=>Ft(s)]}var ut=class extends ${constructor(e){super(),E(this,e,Vt,Ut,w,{})}},Ct=ut;function Xt(t){let e,n,o,s,u,r,c;return e=new Ct({}),s=new Mt({}),{c(){z(e.$$.fragment),n=N(),o=m("main"),z(s.$$.fragment),u=N(),r=m("footer"),r.innerHTML="<p>Sort tiles: 1, 2, 3 ... 9 ... 12, 13 ... 15</p>"},m(i,l){q(e,i,l),v(i,n,l),v(i,o,l),q(s,o,null),v(i,u,l),v(i,r,l),c=!0},p:a,i(i){c||(F(e.$$.fragment,i),F(s.$$.fragment,i),c=!0)},o(i){C(e.$$.fragment,i),C(s.$$.fragment,i),c=!1},d(i){O(e,i),i&&y(n),i&&y(o),O(s),i&&y(u),i&&y(r)}}}var ft=class extends ${constructor(e){super(),E(this,e,null,Xt,w,{})}},Ot=ft;var Yt=new Ot({target:document.body}),De=Yt;export{De as default};
