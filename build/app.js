function f(){}function Z(t){return t()}function dt(){return Object.create(null)}function k(t){t.forEach(Z)}function M(t){return typeof t=="function"}function v(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ht(t){return Object.keys(t).length===0}function tt(t,...e){if(t==null)return f;let n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function S(t,e,n){t.$$.on_destroy.push(tt(e,n))}function mt(t,e,n){return t.set(n),e}var yt=!1;function Tt(){yt=!0}function jt(){yt=!1}function _(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function bt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function C(){return w(" ")}function I(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function F(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Nt(t){return Array.from(t.childNodes)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function et(t,e,n,i){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function nt(t,e,n){t.classList[n?"add":"remove"](e)}var ot;function B(t){ot=t}var R=[];var _t=[],U=[],pt=[],qt=Promise.resolve(),K=!1;function Rt(){K||(K=!0,qt.then(gt))}function Q(t){U.push(t)}var J=new Set,q=0;function gt(){if(q!==0)return;let t=ot;do{try{for(;q<R.length;){let e=R[q];q++,B(e),It(e.$$)}}catch(e){throw R.length=0,q=0,e}for(B(null),R.length=0,q=0;_t.length;)_t.pop()();for(let e=0;e<U.length;e+=1){let n=U[e];J.has(n)||(J.add(n),n())}U.length=0}while(R.length);for(;pt.length;)pt.pop()();K=!1,J.clear(),B(t)}function It(t){if(t.fragment!==null){t.update(),k(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}var V=new Set,D;function vt(){D={r:0,c:[],p:D}}function $t(){D.r||k(D.c),D=D.p}function x(t,e){t&&t.i&&(V.delete(t),t.i(e))}function A(t,e,n,i){if(t&&t.o){if(V.has(t))return;V.add(t),D.c.push(()=>{V.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}var ne=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function P(t){t&&t.c()}function j(t,e,n,i){let{fragment:l,after_update:r}=t.$$;l&&l.m(e,n),i||Q(()=>{let s=t.$$.on_mount.map(Z).filter(M);t.$$.on_destroy?t.$$.on_destroy.push(...s):k(s),t.$$.on_mount=[]}),r.forEach(Q)}function O(t,e){let n=t.$$;n.fragment!==null&&(k(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Pt(t,e){t.$$.dirty[0]===-1&&(R.push(t),Rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(t,e,n,i,l,r,s,o=[-1]){let u=ot;B(t);let c=t.$$={fragment:null,ctx:[],props:r,update:f,not_equal:l,bound:dt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:dt(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};s&&s(c.root);let a=!1;if(c.ctx=n?n(t,e.props||{},(d,b,...h)=>{let $=h.length?h[0]:b;return c.ctx&&l(c.ctx[d],c.ctx[d]=$)&&(!c.skip_bound&&c.bound[d]&&c.bound[d]($),a&&Pt(t,d)),b}):[],c.update(),a=!0,k(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){Tt();let d=Nt(e.target);c.fragment&&c.fragment.l(d),d.forEach(m)}else c.fragment&&c.fragment.c();e.intro&&x(t.$$.fragment),j(t,e.target,e.anchor,e.customElement),jt(),gt()}B(u)}var Lt;typeof HTMLElement=="function"&&(Lt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(Z).filter(M);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){k(this.$$.on_disconnect)}$destroy(){O(this,1),this.$destroy=f}$on(t,e){if(!M(e))return f;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!ht(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var g=class{$destroy(){O(this,1),this.$destroy=f}$on(e,n){if(!M(n))return f;let i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{let l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!ht(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var L=[];function Bt(t,e){return{subscribe:z(t,e).subscribe}}function z(t,e=f){let n,i=new Set;function l(o){if(v(t,o)&&(t=o,n)){let u=!L.length;for(let c of i)c[1](),L.push(c,t);if(u){for(let c=0;c<L.length;c+=2)L[c][0](L[c+1]);L.length=0}}}function r(o){l(o(t))}function s(o,u=f){let c=[o,u];return i.add(c),i.size===1&&(n=e(l)||f),o(t),()=>{i.delete(c),i.size===0&&(n(),n=null)}}return{set:l,update:r,subscribe:s}}function it(t,e,n){let i=!Array.isArray(t),l=i?[t]:t,r=e.length<2;return Bt(n,s=>{let o=!1,u=[],c=0,a=f,d=()=>{if(c)return;a();let h=e(i?u[0]:u,s);r?s(h):a=M(h)?h:f},b=l.map((h,$)=>tt(h,Dt=>{u[$]=Dt,c&=~(1<<$),o&&d()},()=>{c|=1<<$}));return o=!0,d(),function(){k(b),a()}})}function G(t=!1){let e=[],n=Object.assign([],{void:{m:0,n:0}}),i=0;l();for(let r=0;r<4;r++){n[r]=[];for(let s=0;s<4;s++)e[i]?n[r][s]=e[i]:(n[r][s]=0,n.void={m:r,n:s}),i++}return n;function l(){let r;function s(){let u,c;e.map(function(a,d){u=Math.floor(Math.random()*16),e[u]!==a&&(c=e[u],e[u]=a,e[d]=c)})}function o(){let u=0,c=0;e.map(function(a,d){if(a===0)c=d;else if(a>1)for(let b=d+1;b<16;b++)a>e[b]&&e[b]!==0&&u++}),(!(u%2)&&(c>3&&c<8||c>11&&c<16)||u%2&&(c<4||c>7&&c<12))&&(r=!0)}for(let u=0;u<16;u++)e.push(u);for(t||e.push(Number(e.shift()));t&&!r;)s(),o()}}var N=zt(0),H=z(0),X=z(G()),W=it(X,t=>{let e=[];for(let n=0;n<4;n++)for(let i=0;i<4;i++)e[t[n][i]]={m:n,n:i};return e}),Y=it(W,t=>{if(t[0].n===3&&t[0].m===3){for(let e=15;e>1;e--){let n=Math.floor((e-1)/4),i=e-1-4*n;if(t[e].m!==n||t[e].n!==i)return!1}return!0}else return!1});function zt(t=0,e=!1){let n=c=>new Date(c).toISOString().slice(11,-5),{subscribe:i,set:l}=z(n(t)),r=0;e&&s();function s(c=0){t=c||t,l(n(t)),u(),r=setInterval(()=>{t=t+1e3,t<0?u():l(n(t))},1e3)}function o(){clearInterval(r)}function u(){clearInterval(r),t=0}return{subscribe:i,set:l,start:s,pause:o,stop:u}}function rt(t,e){console.log(t,e);let n=Math.abs(e.m-t.void.m||e.n-t.void.n);function i(){for(let o=t.void.m+1;o<=e.m;o++)t[o-1][t.void.n]=t[o][t.void.n];t.void.m+=n}function l(){for(let o=t.void.m-1;o>=e.m;o--)t[o+1][t.void.n]=t[o][t.void.n];t.void.m-=n}function r(){for(let o=t.void.n-1;o>=e.n;o--)t[t.void.m][o+1]=t[t.void.m][o];t.void.n-=n}function s(){for(let o=t.void.n+1;o<=e.n;o++)t[t.void.m][o-1]=t[t.void.m][o];t.void.n+=n}return e.m!==t.void.m?e.m>t.void.m?i():l():e.n<t.void.n?r():s(),t[t.void.m][t.void.n]=0,t}var wt;W.subscribe(t=>wt=t);var st=t=>X.set(G(t)),Ft=t=>{X.update(e=>rt(e,wt[t]))};function Gt(t){let e,n=t[0]==="pause"?"Resume":"Start",i,l,r;return{c(){e=p("button"),i=w(n),F(e,"class","lg")},m(s,o){y(s,e,o),_(e,i),l||(r=I(e,"click",function(){M(t[0]==="pause"?t[3]:t[1])&&(t[0]==="pause"?t[3]:t[1]).apply(this,arguments)}),l=!0)},p(s,o){t=s,o&1&&n!==(n=t[0]==="pause"?"Resume":"Start")&&T(i,n)},d(s){s&&m(e),l=!1,r()}}}function Ht(t){let e,n,i,l,r;return{c(){e=p("button"),e.textContent="Stop",n=C(),i=p("button"),i.textContent="Pause"},m(s,o){y(s,e,o),y(s,n,o),y(s,i,o),l||(r=[I(e,"click",t[4]),I(i,"click",t[2])],l=!0)},p:f,d(s){s&&m(e),s&&m(n),s&&m(i),l=!1,k(r)}}}function Wt(t){let e,n;function i(s,o){return s[0]==="play"?Ht:Gt}let l=i(t,-1),r=l(t);return{c(){e=p("footer"),n=p("nav"),r.c(),nt(n,"playing",t[0]==="play")},m(s,o){y(s,e,o),_(e,n),r.m(n,null)},p(s,[o]){l===(l=i(s,o))&&r?r.p(s,o):(r.d(1),r=l(s),r&&(r.c(),r.m(n,null))),o&1&&nt(n,"playing",s[0]==="play")},i:f,o:f,d(s){s&&m(e),r.d()}}}function Ut(t,e,n){let i;S(t,Y,c=>n(5,i=c));let l="";function r(){st(i),N.start(0),n(0,l="play")}function s(){N.pause(),n(0,l="pause")}function o(){N.start(),n(0,l="play")}function u(){st(i),N.stop(),n(0,l="")}return[l,r,s,o,u]}var ct=class extends g{constructor(e){super(),E(this,e,Ut,Wt,v,{})}},kt=ct;function Vt(t){let e,n,i,l;return{c(){e=p("button"),n=w(t[0]),F(e,"class","tile"),et(e,"transform","translate("+t[1][t[0]].n*100+"%, "+t[1][t[0]].m*100+"%)")},m(r,s){y(r,e,s),_(e,n),i||(l=I(e,"click",t[2]),i=!0)},p(r,[s]){s&1&&T(n,r[0]),s&3&&et(e,"transform","translate("+r[1][r[0]].n*100+"%, "+r[1][r[0]].m*100+"%)")},i:f,o:f,d(r){r&&m(e),i=!1,l()}}}function Xt(t,e,n){let i,l,r;S(t,H,u=>n(3,i=u)),S(t,Y,u=>n(4,l=u)),S(t,W,u=>n(1,r=u));let{number:s}=e;function o(){(r[s].n===r[0].n||r[s].m===r[0].m)&&!l&&(Ft(s),mt(H,i+=1,i))}return t.$$set=u=>{"number"in u&&n(0,s=u.number)},[s,r,o]}var lt=class extends g{constructor(e){super(),E(this,e,Xt,Vt,v,{number:0})}},xt=lt;function Et(t,e,n){let i=t.slice();return i[1]=e[n],i}function St(t){let e,n;return e=new xt({props:{number:t[1]}}),{c(){P(e.$$.fragment)},m(i,l){j(e,i,l),n=!0},p:f,i(i){n||(x(e.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),n=!1},d(i){O(e,i)}}}function Yt(t){let e,n,i,l=t[0],r=[];for(let o=0;o<l.length;o+=1)r[o]=St(Et(t,l,o));let s=o=>A(r[o],1,1,()=>{r[o]=null});return{c(){e=p("main"),n=p("section");for(let o=0;o<r.length;o+=1)r[o].c();F(n,"id","board")},m(o,u){y(o,e,u),_(e,n);for(let c=0;c<r.length;c+=1)r[c].m(n,null);i=!0},p(o,[u]){if(u&1){l=o[0];let c;for(c=0;c<l.length;c+=1){let a=Et(o,l,c);r[c]?(r[c].p(a,u),x(r[c],1)):(r[c]=St(a),r[c].c(),x(r[c],1),r[c].m(n,null))}for(vt(),c=l.length;c<r.length;c+=1)s(c);$t()}},i(o){if(!i){for(let u=0;u<l.length;u+=1)x(r[u]);i=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)A(r[u]);i=!1},d(o){o&&m(e),bt(r,o)}}}function Jt(t){"use strict";return[Array.from({length:15},(n,i)=>i+1)]}var ut=class extends g{constructor(e){super(),E(this,e,Jt,Yt,v,{})}},Mt=ut;var Ct='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill="currentColor"/></svg>';function Qt(t){let e,n,i,l,r,s,o,u,c,a,d,b;return{c(){e=p("header"),n=p("p"),i=w("Time: "),l=w(t[0]),r=C(),s=p("h1"),o=p("a"),u=w(`
        Tagy`),c=C(),a=p("p"),d=w("Steps: "),b=w(t[1]),F(o,"href","https://github.com/Valexr/Tagy"),F(o,"target","_blank"),F(o,"rel","noreferrer"),F(o,"id","gh")},m(h,$){y(h,e,$),_(e,n),_(n,i),_(n,l),_(e,r),_(e,s),_(s,o),o.innerHTML=Ct,_(s,u),_(e,c),_(e,a),_(a,d),_(a,b)},p(h,[$]){$&1&&T(l,h[0]),$&2&&T(b,h[1])},i:f,o:f,d(h){h&&m(e)}}}function Zt(t,e,n){let i,l;return S(t,N,r=>n(0,i=r)),S(t,H,r=>n(1,l=r)),[i,l]}var ft=class extends g{constructor(e){super(),E(this,e,Zt,Qt,v,{})}},At=ft;function te(t){let e,n,i,l,r,s;return e=new At({}),i=new Mt({}),r=new kt({}),{c(){P(e.$$.fragment),n=C(),P(i.$$.fragment),l=C(),P(r.$$.fragment)},m(o,u){j(e,o,u),y(o,n,u),j(i,o,u),y(o,l,u),j(r,o,u),s=!0},p:f,i(o){s||(x(e.$$.fragment,o),x(i.$$.fragment,o),x(r.$$.fragment,o),s=!0)},o(o){A(e.$$.fragment,o),A(i.$$.fragment,o),A(r.$$.fragment,o),s=!1},d(o){O(e,o),o&&m(n),O(i,o),o&&m(l),O(r,o)}}}var at=class extends g{constructor(e){super(),E(this,e,null,te,v,{})}},Ot=at;var ee=new Ot({target:document.body}),Ue=ee;export{Ue as default};
