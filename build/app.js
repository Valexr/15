function f(){}function Z(t){return t()}function at(){return Object.create(null)}function S(t){t.forEach(Z)}function j(t){return typeof t=="function"}function $(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ht(t){return Object.keys(t).length===0}function tt(t,...e){if(t==null)return f;let n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function x(t,e,n){t.$$.on_destroy.push(tt(e,n))}function mt(t,e,n){return t.set(n),e}var pt=!1;function Tt(){pt=!0}function jt(){pt=!1}function _(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function yt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function N(){return E(" ")}function L(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Nt(t){return Array.from(t.childNodes)}function I(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function et(t,e,n,o){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function nt(t,e,n){t.classList[n?"add":"remove"](e)}var ot;function P(t){ot=t}var T=[];var dt=[],W=[],_t=[],qt=Promise.resolve(),K=!1;function Rt(){K||(K=!0,qt.then(gt))}function Q(t){W.push(t)}var J=new Set,D=0;function gt(){if(D!==0)return;let t=ot;do{try{for(;D<T.length;){let e=T[D];D++,P(e),Pt(e.$$)}}catch(e){throw T.length=0,D=0,e}for(P(null),T.length=0,D=0;dt.length;)dt.pop()();for(let e=0;e<W.length;e+=1){let n=W[e];J.has(n)||(J.add(n),n())}W.length=0}while(T.length);for(;_t.length;)_t.pop()();K=!1,J.clear(),P(t)}function Pt(t){if(t.fragment!==null){t.update(),S(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}var U=new Set,A;function bt(){A={r:0,c:[],p:A}}function $t(){A.r||S(A.c),A=A.p}function F(t,e){t&&t.i&&(U.delete(t),t.i(e))}function M(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),A.c.push(()=>{U.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}var ee=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function q(t){t&&t.c()}function O(t,e,n,o){let{fragment:c,after_update:i}=t.$$;c&&c.m(e,n),o||Q(()=>{let u=t.$$.on_mount.map(Z).filter(j);t.$$.on_destroy?t.$$.on_destroy.push(...u):S(u),t.$$.on_mount=[]}),i.forEach(Q)}function C(t,e){let n=t.$$;n.fragment!==null&&(S(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){t.$$.dirty[0]===-1&&(T.push(t),Rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function k(t,e,n,o,c,i,u,r=[-1]){let l=ot;P(t);let s=t.$$={fragment:null,ctx:[],props:i,update:f,not_equal:c,bound:at(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:at(),dirty:r,skip_bound:!1,root:e.target||l.$$.root};u&&u(s.root);let a=!1;if(s.ctx=n?n(t,e.props||{},(d,y,...h)=>{let v=h.length?h[0]:y;return s.ctx&&c(s.ctx[d],s.ctx[d]=v)&&(!s.skip_bound&&s.bound[d]&&s.bound[d](v),a&&Lt(t,d)),y}):[],s.update(),a=!0,S(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){Tt();let d=Nt(e.target);s.fragment&&s.fragment.l(d),d.forEach(p)}else s.fragment&&s.fragment.c();e.intro&&F(t.$$.fragment),O(t,e.target,e.anchor,e.customElement),jt(),gt()}P(l)}var It;typeof HTMLElement=="function"&&(It=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(Z).filter(j);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){S(this.$$.on_disconnect)}$destroy(){C(this,1),this.$destroy=f}$on(t,e){if(!j(e))return f;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let o=n.indexOf(e);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!ht(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var b=class{$destroy(){C(this,1),this.$destroy=f}$on(e,n){if(!j(n))return f;let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{let c=o.indexOf(n);c!==-1&&o.splice(c,1)}}$set(e){this.$$set&&!ht(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var R=[];function Bt(t,e){return{subscribe:B(t,e).subscribe}}function B(t,e=f){let n,o=new Set;function c(r){if($(t,r)&&(t=r,n)){let l=!R.length;for(let s of o)s[1](),R.push(s,t);if(l){for(let s=0;s<R.length;s+=2)R[s][0](R[s+1]);R.length=0}}}function i(r){c(r(t))}function u(r,l=f){let s=[r,l];return o.add(s),o.size===1&&(n=e(c)||f),r(t),()=>{o.delete(s),o.size===0&&(n(),n=null)}}return{set:c,update:i,subscribe:u}}function rt(t,e,n){let o=!Array.isArray(t),c=o?[t]:t,i=e.length<2;return Bt(n,u=>{let r=!1,l=[],s=0,a=f,d=()=>{if(s)return;a();let h=e(o?l[0]:l,u);i?u(h):a=j(h)?h:f},y=c.map((h,v)=>tt(h,Dt=>{l[v]=Dt,s&=~(1<<v),r&&d()},()=>{s|=1<<v}));return r=!0,d(),function(){S(y),a()}})}function z(t=!0){let e=[],n=Object.assign([],{void:{m:0,n:0}}),o=0;c();for(let i=0;i<4;i++){n[i]=[];for(let u=0;u<4;u++)e[o]?n[i][u]=e[o]:(n[i][u]=0,n.void={m:i,n:u}),o++}return n;function c(){let i;function u(){let l,s;e.map(function(a,d){l=Math.floor(Math.random()*16),e[l]!==a&&(s=e[l],e[l]=a,e[d]=s)})}function r(){let l=0,s=0;e.map(function(a,d){if(a===0)s=d;else if(a>1)for(let y=d+1;y<16;y++)a>e[y]&&e[y]!==0&&l++}),(!(l%2)&&(s>3&&s<8||s>11&&s<16)||l%2&&(s<4||s>7&&s<12))&&(i=!0)}for(let l=0;l<16;l++)e.push(l);for(t||e.push(Number(e.shift()));t&&!i;)u(),r()}}var vt=B(0),H=B(0),V=B(z()),G=rt(V,t=>{let e=[];for(let n=0;n<4;n++)for(let o=0;o<4;o++)e[t[n][o]]={m:n,n:o};return e}),X=rt(G,t=>{if(t[0].n===3&&t[0].m===3){for(let e=15;e>1;e--){let n=Math.floor((e-1)/4),o=e-1-4*n;if(t[e].m!==n||t[e].n!==o)return!1}return!0}else return!1});function it(t,e){console.log(t,e);let n=Math.abs(e.m-t.void.m||e.n-t.void.n);function o(){for(let r=t.void.m+1;r<=e.m;r++)t[r-1][t.void.n]=t[r][t.void.n];t.void.m+=n}function c(){for(let r=t.void.m-1;r>=e.m;r--)t[r+1][t.void.n]=t[r][t.void.n];t.void.m-=n}function i(){for(let r=t.void.n-1;r>=e.n;r--)t[t.void.m][r+1]=t[t.void.m][r];t.void.n-=n}function u(){for(let r=t.void.n+1;r<=e.n;r++)t[t.void.m][r-1]=t[t.void.m][r];t.void.n+=n}return e.m!==t.void.m?e.m>t.void.m?o():c():e.n<t.void.n?i():u(),t[t.void.m][t.void.n]=0,t}var wt;G.subscribe(t=>wt=t);var Y=t=>V.set(z(t)),Ft=t=>{V.update(e=>it(e,wt[t]))};function zt(t){let e,n,o;return{c(){e=m("button"),e.textContent="Shuffle",w(e,"class","lg")},m(c,i){g(c,e,i),n||(o=L(e,"click",t[2]),n=!0)},p:f,d(c){c&&p(e),n=!1,o()}}}function Ht(t){let e,n,o;return{c(){e=m("button"),e.textContent="Sort"},m(c,i){g(c,e,i),n||(o=L(e,"click",t[1]),n=!0)},p:f,d(c){c&&p(e),n=!1,o()}}}function Gt(t){let e,n;function o(u,r){return u[0]?zt:Ht}let c=o(t,-1),i=c(t);return{c(){e=m("footer"),n=m("nav"),i.c(),nt(n,"playing",!t[0])},m(u,r){g(u,e,r),_(e,n),i.m(n,null)},p(u,[r]){c===(c=o(u,r))&&i?i.p(u,r):(i.d(1),i=c(u),i&&(i.c(),i.m(n,null))),r&1&&nt(n,"playing",!u[0])},i:f,o:f,d(u){u&&p(e),i.d()}}}function Wt(t,e,n){let o;return x(t,X,u=>n(0,o=u)),Y(o),[o,()=>Y(o),()=>Y()]}var st=class extends b{constructor(e){super(),k(this,e,Wt,Gt,$,{})}},kt=st;function Ut(t){let e,n,o,c;return{c(){e=m("button"),n=E(t[0]),w(e,"class","tile"),et(e,"transform","translate("+t[1][t[0]].n*100+"%, "+t[1][t[0]].m*100+"%)")},m(i,u){g(i,e,u),_(e,n),o||(c=L(e,"click",t[2]),o=!0)},p(i,[u]){u&1&&I(n,i[0]),u&3&&et(e,"transform","translate("+i[1][i[0]].n*100+"%, "+i[1][i[0]].m*100+"%)")},i:f,o:f,d(i){i&&p(e),o=!1,c()}}}function Vt(t,e,n){let o,c,i;x(t,H,l=>n(3,o=l)),x(t,X,l=>n(4,c=l)),x(t,G,l=>n(1,i=l));let{number:u}=e;function r(){(i[u].n===i[0].n||i[u].m===i[0].m)&&!c&&(Ft(u),mt(H,o+=1,o))}return t.$$set=l=>{"number"in l&&n(0,u=l.number)},[u,i,r]}var ct=class extends b{constructor(e){super(),k(this,e,Vt,Ut,$,{number:0})}},xt=ct;function Et(t,e,n){let o=t.slice();return o[1]=e[n],o}function St(t){let e,n;return e=new xt({props:{number:t[1]}}),{c(){q(e.$$.fragment)},m(o,c){O(e,o,c),n=!0},p:f,i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){C(e,o)}}}function Xt(t){let e,n,o,c=t[0],i=[];for(let r=0;r<c.length;r+=1)i[r]=St(Et(t,c,r));let u=r=>M(i[r],1,1,()=>{i[r]=null});return{c(){e=m("main"),n=m("section");for(let r=0;r<i.length;r+=1)i[r].c();w(n,"id","board")},m(r,l){g(r,e,l),_(e,n);for(let s=0;s<i.length;s+=1)i[s].m(n,null);o=!0},p(r,[l]){if(l&1){c=r[0];let s;for(s=0;s<c.length;s+=1){let a=Et(r,c,s);i[s]?(i[s].p(a,l),F(i[s],1)):(i[s]=St(a),i[s].c(),F(i[s],1),i[s].m(n,null))}for(bt(),s=c.length;s<i.length;s+=1)u(s);$t()}},i(r){if(!o){for(let l=0;l<c.length;l+=1)F(i[l]);o=!0}},o(r){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)M(i[l]);o=!1},d(r){r&&p(e),yt(i,r)}}}function Yt(t){"use strict";return[Array.from({length:15},(n,o)=>o+1)]}var lt=class extends b{constructor(e){super(),k(this,e,Yt,Xt,$,{})}},Mt=lt;var Ct='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill="currentColor"/></svg>';function Kt(t){let e,n,o,c,i,u,r,l,s,a,d,y;return{c(){e=m("header"),n=m("p"),o=E("Score: "),c=E(t[0]),i=N(),u=m("h1"),r=m("a"),l=E(`
        Tagy`),s=N(),a=m("p"),d=E("Steps: "),y=E(t[1]),w(r,"href","https://github.com/Valexr/Tagy"),w(r,"target","_blank"),w(r,"rel","noreferrer"),w(r,"id","gh")},m(h,v){g(h,e,v),_(e,n),_(n,o),_(n,c),_(e,i),_(e,u),_(u,r),r.innerHTML=Ct,_(u,l),_(e,s),_(e,a),_(a,d),_(a,y)},p(h,[v]){v&1&&I(c,h[0]),v&2&&I(y,h[1])},i:f,o:f,d(h){h&&p(e)}}}function Qt(t,e,n){let o,c;return x(t,vt,i=>n(0,o=i)),x(t,H,i=>n(1,c=i)),[o,c]}var ut=class extends b{constructor(e){super(),k(this,e,Qt,Kt,$,{})}},At=ut;function Zt(t){let e,n,o,c,i,u;return e=new At({}),o=new Mt({}),i=new kt({}),{c(){q(e.$$.fragment),n=N(),q(o.$$.fragment),c=N(),q(i.$$.fragment)},m(r,l){O(e,r,l),g(r,n,l),O(o,r,l),g(r,c,l),O(i,r,l),u=!0},p:f,i(r){u||(F(e.$$.fragment,r),F(o.$$.fragment,r),F(i.$$.fragment,r),u=!0)},o(r){M(e.$$.fragment,r),M(o.$$.fragment,r),M(i.$$.fragment,r),u=!1},d(r){C(e,r),r&&p(n),C(o,r),r&&p(c),C(i,r)}}}var ft=class extends b{constructor(e){super(),k(this,e,null,Zt,$,{})}},Ot=ft;var te=new Ot({target:document.body}),Ve=te;export{Ve as default};
